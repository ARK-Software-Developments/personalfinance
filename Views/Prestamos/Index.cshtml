@using PersonalFinance.Helper
@using PersonalFinance.Models.IngresosMensuales
@using System.Globalization
@using PersonalFinanceApiNetCoreModel
@{

    List<Prestamo> prestamos = ViewBag.Prestamos;

}


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="~/css/personalfinance.styles.css">

<script>
     $(function () {
        $('[data-bs-toggle="tooltip"]').tooltip();
    });

 </script>

<div class="text-center">
    <h1 class="display-5">@ViewBag.Message</h1>
    <p>Listado de @ViewBag.Modulo.</p>
</div> 


<div class="tab-content">
    <div class="row">
        <div class="datatable-top">
            <div class="datatable-search">

                <form method="get">
                    @if (@ViewBag.Buscar == "Buscar" )
                    {
                        <input type="text"
                               name="search"
                               value=""
                               placeholder="Buscar..."
                               class="form-control"
                               style="width: 250px; display:inline-block;" />
                    }
                    

                    <button type="submit" class="btn btn-primary">
                        @ViewBag.Buscar
                    </button>
                </form>

            </div>
        </div>
        </div>
        <p></p>
    
        <div class="row">
        <table class="table myaccordion table-hover" id="accordion">
            <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Beneficiario</th>
                    <th scope="col" align="center">Fecha de Depósito</th>
                    <th scope="col">Resumen</th>
                    <th scope="col">Rason</th>
                    <th scope="col">Total Capital</th>
                    <th scope="col">Cuotas</th>
                    <th scope="col">Total Deuda</th>
                    <th scope="col">Estado</th>
                    <th>
                        &nbsp;
                        <form method="post" asp-controller="@ViewBag.Modulo">
                            <button type="submit" class="btn btn-primary" asp-controller="@ViewBag.Modulo" asp-action="PrestamoFormAdd" name="action" value="openFormAdd">Add new @ViewBag.Modulo</button>
                        </form>
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var entidad in @prestamos)
                {
                    <tr>
                        <td scope="row" id="Id">@entidad.Id</td>
                        <td scope="row" id="Numero">@entidad.Beneficiario</td>
                        <td scope="row" id="FechaCierre">@entidad.FechaDeposito?.ToString("dd/MM/yyy", new CultureInfo("es-ES"))</td>
                        <td scope="row" id="Entidad">@entidad.Resumen</td>
                        <td scope="row" id="Estado">@entidad.Razon</td>
                        <td scope="row" id="Estado">@entidad.TotalDeuda.ToString("C", new CultureInfo("es-AR"))</td>
                        <td scope="row" id="Estado">@entidad.Cuotas</td>
                        <td scope="row" id="Estado">@entidad.TotalDeuda.ToString("C", new CultureInfo("es-AR"))</td>
                        <td scope="row" id="Estado">@entidad.Estado</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<p></p>
<p>>>>>>&nbsp;&nbsp;@ViewBag.Ruta</p>
<a href="/@ViewBag.Modulo" class="btn btn-secondary">Volver</a>

<script src="~/js/jquery.min.js"></script>
<script src="~/js/popper.js"></script>
<script src="~/js/bootstrap.min.js"></script>
<script src="~/js/main.js"></script>